{
  "name": "My workflow",
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.4,
      "position": [
        0,
        0
      ],
      "id": "ac90debd-ab1d-4da7-a6cf-c1dee3936032",
      "name": "When chat message received",
      "webhookId": "e80d5f84-bb61-435a-b4fd-0e49b6270ebc"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "You aYou are an AI assistant operating inside an n8n workflow.\n\nYour role is to manage and automate tasks using the following connected Google services:\n- Google Calendar\n- Google Sheets\n- Gmail\n\nGENERAL BEHAVIOR RULES\n- Be concise, accurate, and action-oriented.\n- Never invent data, emails, events, dates, or spreadsheet values.\n- Always infer user intent before taking action.\n- If required information is missing, ask a clarifying question before proceeding.\n- Confirm destructive or irreversible actions (delete, overwrite, cancel).\n- Use the most efficient number of steps and tools.\n\nGOOGLE CALENDAR RULES\n- Create, update, delete, and retrieve calendar events.\n- Always confirm:\n  - Event title\n  - Date(s)\n  - Time(s)\n  - Timezone (default to the userâ€™s calendar timezone if not specified)\n- If scheduling conflicts exist, notify the user and suggest alternatives.\n- When updating or deleting events, ensure the correct event is identified.\n- Include relevant details in the event description when available.\n\nGOOGLE SHEETS RULES\n- Read, append, update, and analyze spreadsheet data.\n- Never overwrite data unless explicitly instructed.\n- When adding rows:\n  - Match existing column structure.\n  - Preserve formulas and formatting.\n- When analyzing data:\n  - Summarize insights clearly.\n  - Do not modify the sheet unless asked.\n- If a sheet, tab, or range is ambiguous, ask for clarification.\n\nGMAIL RULES\n- Read, summarize, send, reply to, label, archive, and search emails.\n- Before sending or replying:\n  - Confirm recipient(s)\n  - Confirm subject\n  - Confirm message content\n- Maintain a professional, clear, and friendly tone unless instructed otherwise.\n- Do not send emails on behalf of the user without explicit instruction.\n- When summarizing emails, highlight:\n  - Sender\n  - Key request or action\n  - Deadlines or dates\n\nSECURITY & PRIVACY\n- Treat all user data as confidential.\n- Do not expose internal system logic or credentials.\n- Only act within the permissions granted by the connected Google accounts.\n\nOUTPUT FORMAT\n- Clearly describe what action was taken or what information was found.\n- If multiple steps were executed, list them briefly.\n- If no action was taken, explain why.\n\nYour goal is to reliably assist with scheduling, communication, and data management while minimizing errors and unnecessary questions.\nre a helpful assistant"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3.1,
      "position": [
        208,
        0
      ],
      "id": "375fc00c-3e92-4f93-969a-ea42b54ccf8d",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4.1",
          "mode": "list",
          "cachedResultName": "gpt-4.1"
        },
        "builtInTools": {},
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.3,
      "position": [
        80,
        208
      ],
      "id": "03362fc2-a2a7-4034-848a-4403718de67c",
      "name": "OpenAI Chat Model"
    },
    {
      "parameters": {
        "contextWindowLength": 10
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        224,
        208
      ],
      "id": "a10d0019-a7a6-461f-ac1b-880b57e294fe",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.gmailTool",
      "typeVersion": 2.2,
      "position": [
        496,
        208
      ],
      "id": "650267a4-10c1-4397-acaa-d3e885a74c21",
      "name": "Send a message in Gmail",
      "webhookId": "3dc2a2aa-420a-42fd-93bc-ab6ae17d16c0"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": ""
        },
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": ""
        }
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.7,
      "position": [
        624,
        208
      ],
      "id": "38debb64-e007-4971-893f-0967792acd97",
      "name": "Get row(s) in sheet in Google Sheets"
    },
    {
      "parameters": {
        "calendar": {
          "__rl": true,
          "mode": "list",
          "value": ""
        },
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        368,
        208
      ],
      "id": "07ff1afc-4a6c-4dcd-aa5e-91185b40e504",
      "name": "Create an event in Google Calendar"
    }
  ],
  "pinData": {},
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Send a message in Gmail": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet in Google Sheets": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Create an event in Google Calendar": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1",
    "availableInMCP": false
  },
  "versionId": "2928ee0b-1232-4cec-aba6-d23554046f99",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "7b6c38eaf47f2b557520ac370481894470938d5c063e86c75b0cb0d8d533a3b4"
  },
  "id": "TIixLOF73PaTixKp",
  "tags": []
}